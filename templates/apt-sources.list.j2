# sources.list {{ ansible_managed }}
{% if ansible_distribution == 'Debian' %}
deb {{ 'http://' if not package__https else 'https://' }}{{ package__apt_mirror_url }}/ {{ ansible_distribution_release }} main {{ '' if not package__apt_contrib_nonfree else 'contrib non-free' }}
{{ '# ' if not package__apt_debsrc else '' }}deb-src {{ 'http://' if not package__https else 'https://' }}{{ package__apt_mirror_url }}/ {{ ansible_distribution_release }} main {{ '' if not package__apt_contrib_nonfree else 'contrib non-free' }}

{% if ansible_distribution_major_version | int >= 11 %}
{% set __deb_security = '-security' %}
{% else %}
{% set __deb_security = '/updates' %}
{% endif %}
deb {{ 'http://' if not package__https else 'https://' }}security.debian.org/debian-security {{ ansible_distribution_release }}{{ __deb_security }} main
{{ '# ' if not package__apt_debsrc else '' }}deb-src {{ 'http://' if not package__https else 'https://' }}security.debian.org/debian-security {{ ansible_distribution_release }}{{ __deb_security }} main

deb {{ 'http://' if not package__https else 'https://' }}{{ package__apt_mirror_url }}/ {{ ansible_distribution_release }}-updates main {{ '' if not package__apt_contrib_nonfree else 'contrib non-free' }}
{{ '# ' if not package__apt_debsrc else '' }}deb-src {{ 'http://' if not package__https else 'https://' }}{{ package__apt_mirror_url }}/ {{ ansible_distribution_release }}-updates main {{ '' if not package__apt_contrib_nonfree else 'contrib non-free' }}
{% endif %}

{% if ansible_distribution == 'Ubuntu' %}
deb {{ 'http://' if not package__https else 'https://' }}{{ package__apt_mirror_url }}/ {{ ansible_distribution_release }} main restricted
{{ '# ' if not package__apt_debsrc else '' }}deb-src {{ 'http://' if not package__https else 'https://' }}{{ package__apt_mirror_url }}/ {{ ansible_distribution_release }} main restricted

deb {{ 'http://' if not package__https else 'https://' }}{{ package__apt_mirror_url }}/ {{ ansible_distribution_release }}-updates main restricted
{{ '# ' if not package__apt_debsrc else '' }}deb-src {{ 'http://' if not package__https else 'https://' }}{{ package__apt_mirror_url }}/ {{ ansible_distribution_release }}-updates main restricted

deb {{ 'http://' if not package__https else 'https://' }}{{ package__apt_mirror_url }}/ {{ ansible_distribution_release }} universe
{{ '# ' if not package__apt_debsrc else '' }}deb-src {{ 'http://' if not package__https else 'https://' }}{{ package__apt_mirror_url }}/ {{ ansible_distribution_release }} universe
deb {{ 'http://' if not package__https else 'https://' }}{{ package__apt_mirror_url }}/ {{ ansible_distribution_release }}-updates universe
{{ '# ' if not package__apt_debsrc else '' }}deb-src {{ 'http://' if not package__https else 'https://' }}{{ package__apt_mirror_url }}/ {{ ansible_distribution_release }}-updates universe

deb {{ 'http://' if not package__https else 'https://' }}{{ package__apt_mirror_url }}/ {{ ansible_distribution_release }} multiverse
{{ '# ' if not package__apt_debsrc else '' }}deb-src {{ 'http://' if not package__https else 'https://' }}{{ package__apt_mirror_url }}/ {{ ansible_distribution_release }} multiverse
deb {{ 'http://' if not package__https else 'https://' }}{{ package__apt_mirror_url }}/ {{ ansible_distribution_release }}-updates multiverse
{{ '# ' if not package__apt_debsrc else '' }}deb-src {{ 'http://' if not package__https else 'https://' }}{{ package__apt_mirror_url }}/ {{ ansible_distribution_release }}-updates multiverse

{% if package__apt_backports == true %}
deb {{ 'http://' if not package__https else 'https://' }}{{ package__apt_mirror_url }}/ {{ ansible_distribution_release }}-backports main restricted universe multiverse
{{ '# ' if not package__apt_debsrc else '' }}deb-src {{ 'http://' if not package__https else 'https://' }}{{ package__apt_mirror_url }}/ {{ ansible_distribution_release }}-backports main restricted universe multiverse
{% endif %}

deb {{ 'http://' if not package__https else 'https://' }}{{ package__apt_mirror_url }}/ {{ ansible_distribution_release }}-security main restricted
{{ '# ' if not package__apt_debsrc else '' }}deb-src {{ 'http://' if not package__https else 'https://' }}{{ package__apt_mirror_url }}/ {{ ansible_distribution_release }}-security main restricted
deb {{ 'http://' if not package__https else 'https://' }}{{ package__apt_mirror_url }}/ {{ ansible_distribution_release }}-security universe
{{ '# ' if not package__apt_debsrc else '' }}deb-src {{ 'http://' if not package__https else 'https://' }}{{ package__apt_mirror_url }}/ {{ ansible_distribution_release }}-security universe
deb {{ 'http://' if not package__https else 'https://' }}{{ package__apt_mirror_url }}/ {{ ansible_distribution_release }}-security multiverse
{{ '# ' if not package__apt_debsrc else '' }}deb-src {{ 'http://' if not package__https else 'https://' }}{{ package__apt_mirror_url }}/ {{ ansible_distribution_release }}-security multiverse
{% endif %}
